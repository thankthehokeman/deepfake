{% extends "base.html" %}

{% block pico_css %}<link rel="stylesheet" href="{{ url_for('static', filename=pico_css) }}">{% endblock %}
{% block css %}<link rel="stylesheet" href="{{ url_for('static', filename=page_css) }}">{% endblock %}

{% block content %}
    <main class="container-fluid">
        <section class="hero">
            <div class="container">
                <div class="hero-grid">
                    <div>
                        <h1>Look up and see Truth</h1>
                        <p class="hero-lead">Our AI deepfake detector automatically detects image manipulations</p>
                        <p class="hero-sub">Upload a image to analyze whether it is a deepfake</p>
                    </div>

                    <article class="hero-card">
                        <header>
                            <h2>Upload Image</h2>
                        </header>

                        <form method="post" action="{{ url_for('upload') }}" enctype="multipart/form-data">
                            <input type="file" id="image" name="image" accept="image/*" required>
                            <button type="submit">Analyze</button>
                        </form>

                        <button id="openGallery" class="secondary outline">
                            Select from gallery
                        </button>

                        <dialog id="galleryModal">
                            <article>
                                <header>
                                    <button rel="prev" id="closeGallery"></button>
                                    <p>
                                        <strong>Select a test image</strong>
                                    </p>
                                </header>
                                <form method="post" action="{{ url_for('upload') }}" class="gallery-form">
                                    <div class="gallery-grid">
                                        {% for filename in gallery_images %}
                                            <button type="submit" name="gallery_choice" value="{{ filename }}" class="gallery-button">
                                                <img src="{{ url_for('gallery_file', filename=filename) }}">
                                                <small>{{ filename }}</small>
                                            </button>                       
                                        {% endfor %}                
                                    </div>
                                </form>
                            </article>
                        </dialog>

                        <footer>
                            <small>Supported: .jpg, .png, .gif</small>
                        </footer>
                    </article>
                </div>
            </div>
        </section>
    </main>

    <section class="container feature">
        <header class="feature__header">
            <h2 id="deepfake-title">What is a deepfake?</h2>
            <div class="feature__rule"></div>
        </header>

        <div class="feature__grid">
            <div class="feature__copy">
                <p class="feature__lead">
                    Deepfakes come in many shapes and forms, and can serve different purposes.
                </p>

                <p>
                    Some categories of deepfakes include <strong>Face Swaps</strong>, 
                    <strong>AI-generated Content</strong>, and <strong>Face Manipulations</strong>.
                </p>

                <p>
                    These deepfakes are <strong>very prevalent</strong> in social media and the internet.
                    Thankfully, our detector can process these images, 
                    thereby ensuring a better internet.
                </p>

            </div>
                <img class="feature__man" src="{{ url_for('static', filename='img/sander-sammy-q7ZlbWbDnYo-unsplash.jpg') }}">
        </div>
    </section>

    <section class="container feature">
        <div class="feature--panel">
            <header class="feature__header">
                <h2 id="deepfake-title">Models</h2>
                <div class="feature__rule"></div>
            </header>

            <div class="feature__grid">
                <div class="feature__copy">
                    <p class="feature__lead">
                        We have models
                    </p>

                    <p>
                        Our models analyze content for alterations, 
                        face regenerations, and AI-generated modifications. 
                        This ensures facial representations.
                    </p>

                    <p>
                        The models can be <strong> integrated</strong> into your existing workflow during spam filtering,
                        <a href="#">content moderation</a>, or media watchdog. 
                        Processing reduces friction and ensuring a seamless user experience.
                    </p>

                    <p>
                        <a href="#" role="button">
                        See the documentation
                        </a>
                    </p>
                </div>
                <img class="feature__woman" src="{{url_for('static', filename='img/christopher-campbell-rDEOVtE7vOs-unsplash.jpg') }}">
            </div>
        </div>
    </section>

    <script src="{{url_for('static', filename='js/modal.js')}}"></script>
    <script src="{{url_for('static', filename='js/norightclick.js')}}"></script>

{% endblock %}